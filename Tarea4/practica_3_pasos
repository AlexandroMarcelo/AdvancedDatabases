#Alexandro Francisco Marcelo Gonzalez A01021383

#en una terminal iniciamos el nodo

docker run --name=neo4j -m=4g --publish=7474:7474 --publish=7687:7687 --volume=$HOME/neo4j/data:/data --env=NEO4J_AUTH=none neo4j

#otra terminal

docker cp NodesBerkStan.csv neo4j:/var/lib/neo4j/import/
docker cp web-BerkStan.csv neo4j:/var/lib/neo4j/import/

#conectarse a localhost:7474 e importar los nodos y sus relaciones

USING PERIODIC COMMIT
LOAD CSV WITH HEADERS FROM "file:/NodesBerkStan.csv" AS row
CREATE (:Site {siteId: row.nodeId}); 

CREATE INDEX ON :Site(siteId);

LOAD CSV WITH HEADERS FROM "file:/web-BerkStan.csv" AS row
FIELDTERMINATOR "\t"
MATCH (start:Site {siteId: row.FromNodeId})   
MATCH (end:Site {siteId: row.ToNodeId})
MERGE (start)-[:LINKS_TO]->(end);